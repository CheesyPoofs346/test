<!DOCTYPE html>
<html>
<head>
<title>Moving Popup</title>
<style>
body {
  margin: 0;
}
</style>
</head>
<body>

<div id="popup">
  This is a popup that moves randomly! <button onclick="window.close()">Close</button>
</div>

<script>
const popupElement = document.getElementById('popup');
let x = Math.floor(Math.random() * window.screen.width);
let y = Math.floor(Math.random() * window.screen.height);
let dx = (Math.random() - 0.5) * 30;
let dy = (Math.random() - 0.5) * 30;
let maxX;
let maxY;

function updatePopupPosition() {
  maxX = window.screen.width - popupElement.offsetWidth;
  maxY = window.screen.height - popupElement.offsetHeight;

  x += dx;
  y += dy;

  if (x + popupElement.offsetWidth > maxX || x < 0) {
    dx = -dx;
  }
  if (y + popupElement.offsetHeight > maxY || y < 0) {
    dy = -dy;
  }

  window.moveTo(x, y);

  requestAnimationFrame(updatePopupPosition);
}

updatePopupPosition();
</script>

</body>
</html>
